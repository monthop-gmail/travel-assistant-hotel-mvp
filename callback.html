<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hotel Nearby ‚Äî Callback</title>
  <script src="https://static.line-scdn.net/liff/edge/2.1/sdk.js"></script>
</head>
<body>
  <div style="text-align:center;padding:40px 16px;">
    <div style="font-size:2.5rem;margin-bottom:16px;">üè†</div>
    <h2 style="margin-bottom:8px;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</h2>
    <p style="color:#64748b;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏ú‡πà‡∏≤‡∏ô LINE</p>
  </div>
  <script>
    liff.init({ liffId: "2009240377-5UyB2gOT" })
      .then(() => {
        if (liff.isLoggedIn()) {
          // Redirect to main app after login
          window.location.href = "/";
        } else {
          // Should not happen ‚Äî login should redirect back
          window.location.href = "/?error=not_logged_in";
        }
      })
      .catch(err => {
        console.error("LIFF init failed:", err);
        window.location.href = "/?error=liff_init_failed";
      });
  </script>
</body>
</html>